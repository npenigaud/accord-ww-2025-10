MODULE YOMDIMV

!$ACDC methods 


USE PARKIND1  ,ONLY : JPIM

IMPLICIT NONE

SAVE

!     ------------------------------------------------------------------

TYPE :: TDIMV

!*    Dimensions of model working arrays

! === VERTICAL RESOLUTION =====================================================

! NFLEVG : number of levels in grid point space
! NFLEVL : number of levels in Fourier and Legendre space
! NFLEVLMX : maximum NFLEVL among all PEs
! NFLSUR : over dimensioning of NFLEVL for technical reasons, always odd
! NFLSUL : number of additional levels for semi-lagrangian
! NFLSA  = 1    -NFLSUL
! NFLEN  = NFLEVG+NFLSUL
! NIOLEVG : number of levels in the whole atmosphere (used for I/Os and definitions) ; 
!           NFLEVG can be a truncation of NIOLEVG

INTEGER(KIND=JPIM) :: NFLEVG
INTEGER(KIND=JPIM) :: NFLEVL
INTEGER(KIND=JPIM) :: NFLEVLMX
INTEGER(KIND=JPIM) :: NFLSUR
INTEGER(KIND=JPIM) :: NFLSUL
INTEGER(KIND=JPIM) :: NFLSA
INTEGER(KIND=JPIM) :: NFLEN
INTEGER(KIND=JPIM) :: NIOLEVG

CONTAINS
PROCEDURE :: ACDC_COPY => ACDC_COPY_TDIMV
PROCEDURE :: ACDC_CRC64 => ACDC_CRC64_TDIMV
PROCEDURE :: ACDC_HOST => ACDC_HOST_TDIMV
PROCEDURE :: ACDC_LOAD => ACDC_LOAD_TDIMV
PROCEDURE :: ACDC_SAVE => ACDC_SAVE_TDIMV
PROCEDURE :: ACDC_SIZE => ACDC_SIZE_TDIMV
PROCEDURE :: ACDC_WIPE => ACDC_WIPE_TDIMV
END TYPE TDIMV

!     ------------------------------------------------------------------

INTERFACE

MODULE SUBROUTINE ACDC_COPY_TDIMV (SELF, LDCREATED, LDFIELDAPI)

IMPLICIT NONE
CLASS (TDIMV), INTENT (IN), TARGET :: SELF
LOGICAL, OPTIONAL, INTENT (IN) :: LDCREATED, LDFIELDAPI
END SUBROUTINE

MODULE SUBROUTINE ACDC_CRC64_TDIMV (SELF, KLUN, CDPATH)
USE FXTRAN_ACDC_CRC64_INTRINSIC_MOD, ONLY : FCRC64 => FXTRAN_ACDC_CRC64
IMPLICIT NONE
CLASS (TDIMV), TARGET :: SELF
INTEGER, INTENT (IN) :: KLUN
CHARACTER(LEN=*), INTENT (IN) :: CDPATH
END SUBROUTINE

MODULE SUBROUTINE ACDC_HOST_TDIMV (SELF)

IMPLICIT NONE
CLASS (TDIMV), TARGET :: SELF
END SUBROUTINE

MODULE SUBROUTINE ACDC_LOAD_TDIMV (SELF, KLUN)

IMPLICIT NONE
CLASS (TDIMV), INTENT (OUT), TARGET :: SELF
INTEGER, INTENT (IN) :: KLUN
END SUBROUTINE

MODULE SUBROUTINE ACDC_SAVE_TDIMV (SELF, KLUN)

IMPLICIT NONE
CLASS (TDIMV), INTENT (IN), TARGET :: SELF
INTEGER, INTENT (IN) :: KLUN
END SUBROUTINE

MODULE FUNCTION ACDC_SIZE_TDIMV (SELF, CDPATH, LDPRINT) RESULT (KSIZE)

IMPLICIT NONE
CLASS (TDIMV),     INTENT (IN), TARGET :: SELF
CHARACTER(LEN=*), INTENT (IN), OPTIONAL :: CDPATH
LOGICAL,          INTENT (IN), OPTIONAL :: LDPRINT
INTEGER*8 :: KSIZE
END FUNCTION

MODULE SUBROUTINE ACDC_WIPE_TDIMV (SELF, LDDELETED, LDFIELDAPI)

IMPLICIT NONE
CLASS (TDIMV), INTENT (IN), TARGET :: SELF
LOGICAL, OPTIONAL, INTENT (IN) :: LDDELETED, LDFIELDAPI
END SUBROUTINE


END INTERFACE

END MODULE YOMDIMV
